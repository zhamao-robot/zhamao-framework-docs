(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{768:function(t,a,s){"use strict";s.r(a);var e=s(108),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"远程终端"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#远程终端"}},[t._v("#")]),t._v(" 远程终端")]),t._v(" "),s("p",[t._v("框架在 2.3 版本时删除了本地终端（就是框架启动后可以在终端输入一些参数），因为框架的多进程模式会导致终端输入错乱，所以暂时取消掉了。")]),t._v(" "),s("p",[t._v("而远程终端应运而生，为的是弥补这一功能。与之前不同的是，远程终端使用 nc 连接，无需任何其他组件和客户端，而且功能更丰富，支持自定义命令。")]),t._v(" "),s("h2",{attrs:{id:"启用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启用"}},[t._v("#")]),t._v(" 启用")]),t._v(" "),s("p",[t._v("有两种开启方式：")]),t._v(" "),s("ul",[s("li",[t._v("永久开启：全局配置文件中找到 "),s("code",[t._v("remote_terminal")]),t._v(" 的 "),s("code",[t._v("status")]),t._v("，改为 true，启动框架即可。")]),t._v(" "),s("li",[t._v("临时开启：启动框架时加上参数 "),s("code",[t._v("--remote-terminal")]),t._v("。例如："),s("code",[t._v("vendor/bin/start server --remote-terminal")]),t._v("。")])]),t._v(" "),s("h2",{attrs:{id:"配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[t._v("#")]),t._v(" 配置")]),t._v(" "),s("p",[t._v("在一般情况下，框架为了安全，直接按照默认配置，会监听 "),s("code",[t._v("127.0.0.1:20002")]),t._v(" 端口，不可以远程访问，只能使用本机的 nc 连接，效果如下：")]),t._v(" "),s("p",[t._v("本地主机：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://static.zhamao.me/images/docs/3432551c08b34ca10aaf19f3f82aedeb.png",alt:"img.png"}})]),t._v(" "),s("p",[t._v("从别的主机：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://static.zhamao.me/images/docs/6f35f2745d66c7e186da75b6f09248c2.png",alt:"img.png"}})]),t._v(" "),s("p",[t._v("如果将 "),s("code",[t._v("host")]),t._v(" 改为 "),s("code",[t._v("0.0.0.0")]),t._v(" 或对应监听地址，即可指向性访问。")]),t._v(" "),s("p",[t._v("但是，如果你又想远程连接，又想保证安全，那么可以设置一个 token 参数，来保证连接时需要输入 token 才能使用远程终端。\n假设我们的 token 是 "),s("code",[t._v("iAMTokEn")]),t._v("：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://static.zhamao.me/images/docs/e502af4c0fd9359615548303cacb70dd.png",alt:"img.png"}})]),t._v(" "),s("h2",{attrs:{id:"使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[t._v("#")]),t._v(" 使用")]),t._v(" "),s("p",[t._v("默认情况下，使用 "),s("code",[t._v("nc")]),t._v(" 命令即可。")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("nc")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("your-host"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("your-port"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" -vvv\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# nc 127.0.0.1 20002 -vvv")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("输入 help 即可查看内置的常用指令：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://static.zhamao.me/images/docs/7b74aa2b487c86482097ec7692c66e08.png",alt:"img.png"}})])])}),[],!1,null,null,null);a.default=r.exports}}]);